"use strict";(self.webpackChunkhydra_head_protocol_docs=self.webpackChunkhydra_head_protocol_docs||[]).push([[2557],{3905:(t,e,n)=>{n.d(e,{Zo:()=>x,kt:()=>c});var i=n(67294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var s=i.createContext({}),f=function(t){var e=i.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):r(r({},e),t)),n},x=function(t){var e=f(t.components);return i.createElement(s.Provider,{value:e},t.children)},h="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return i.createElement(i.Fragment,{},e)}},y=i.forwardRef((function(t,e){var n=t.components,a=t.mdxType,o=t.originalType,s=t.parentName,x=l(t,["components","mdxType","originalType","parentName"]),h=f(n),y=a,c=h["".concat(s,".").concat(y)]||h[y]||m[y]||o;return n?i.createElement(c,r(r({ref:e},x),{},{components:n})):i.createElement(c,r({ref:e},x))}));function c(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var o=n.length,r=new Array(o);r[0]=y;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[h]="string"==typeof t?t:a,r[1]=l;for(var f=2;f<o;f++)r[f]=n[f];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}y.displayName="MDXCreateElement"},66397:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>Li,contentTitle:()=>ui,default:()=>Wi,frontMatter:()=>Si,metadata:()=>Ei,toc:()=>ki});var i,a,o,r,l,s,f,x,h,m,y,c,d,g,p,F,S,u,E,L,k,z,b,W,w,v,N,H,C,T,O,P,M,A,D,j,B,_,I,R,q,J,U,X,Z,K,$,G,Q,V,Y,tt,et,nt,it,at,ot,rt,lt,st,ft,xt,ht,mt,yt,ct,dt,gt,pt,Ft,St,ut,Et,Lt,kt,zt,bt,Wt,wt,vt,Nt,Ht,Ct,Tt,Ot,Pt,Mt,At,Dt,jt,Bt,_t,It,Rt,qt,Jt,Ut,Xt,Zt,Kt,$t,Gt,Qt,Vt,Yt,te,ee,ne,ie,ae,oe,re,le,se,fe,xe,he,me,ye,ce,de,ge,pe,Fe,Se,ue,Ee,Le,ke,ze,be,We,we,ve,Ne,He,Ce,Te,Oe,Pe,Me,Ae,De,je,Be,_e,Ie,Re,qe,Je,Ue,Xe,Ze,Ke,$e,Ge,Qe,Ve,Ye,tn,en,nn,an,on,rn,ln,sn,fn,xn,hn,mn,yn,cn,dn,gn,pn,Fn,Sn,un,En,Ln,kn,zn,bn,Wn,wn,vn,Nn,Hn,Cn,Tn,On,Pn,Mn,An,Dn,jn,Bn,_n,In,Rn,qn,Jn,Un,Xn,Zn,Kn,$n,Gn,Qn,Vn,Yn,ti,ei,ni,ii,ai,oi,ri,li,si,fi,xi,hi,mi,yi,ci=n(87462),di=n(67294),gi=n(3905);function pi(){return pi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pi.apply(this,arguments)}const Fi=t=>{let{title:e,titleId:n,...ci}=t;return di.createElement("svg",pi({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",height:831,preserveAspectRatio:"none",style:{width:1481,height:831,background:"#fff"},viewBox:"0 0 1481 831",width:1481,"aria-labelledby":n},ci),e?di.createElement("title",{id:n},e):null,i||(i=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,fontWeight:"bold",textLength:138,x:664.5,y:23.535},"Hydra Components")),di.createElement("rect",{fill:"none",height:575.95,rx:2.5,ry:2.5,style:{stroke:"#444",strokeWidth:1,strokeDasharray:"7,7"},width:889,x:341,y:44.488}),a||(a=di.createElement("text",{fill:"#444",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:95,x:738,y:81.957},"Hydra Node")),o||(o=di.createElement("text",{fill:"#444",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:69,x:751,y:96.934},"[Container]")),di.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Persistence.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Persistence.hs",xlinkType:"simple"},di.createElement("rect",{fill:"#85BBF0",height:116.574,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:213,x:450.5,y:115.488}),r||(r=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:76,x:519,y:137.09},"\xabcomponent\xbb")),l||(l=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:93,x:510.5,y:155.09},"Persistence")),s||(s=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:54,x:530,y:170.066},"[JSON/FS]")),f||(f=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:555,y:186.133})),x||(x=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:52,x:460.5,y:202.621},"Persists")),h||(h=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:512.5,y:202.621})),m||(m=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:33,x:516.5,y:202.621},"state")),y||(y=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:549.5,y:202.621})),c||(c=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:553.5,y:202.621},"of")),d||(d=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:567.5,y:202.621})),g||(g=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:22,x:571.5,y:202.621},"the")),p||(p=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:593.5,y:202.621})),F||(F=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:34,x:597.5,y:202.621},"head")),S||(S=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:631.5,y:202.621})),u||(u=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:18,x:635.5,y:202.621},"on")),E||(E=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:28,x:543,y:219.109},"disk"))),di.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/HeadLogic.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/HeadLogic.hs",xlinkType:"simple"},di.createElement("rect",{fill:"#85BBF0",height:102.441,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:219,x:670.5,y:293.068}),L||(L=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:76,x:742,y:314.67},"\xabcomponent\xbb")),k||(k=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:41,x:735,y:332.67},"Head")),z||(z=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:5,x:776,y:332.67})),b||(b=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:44,x:781,y:332.67},"Logic")),W||(W=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:778,y:349.58})),w||(w=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:66,x:680.5,y:366.068},"Maintains")),v||(v=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:746.5,y:366.068})),N||(N=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:53,x:750.5,y:366.068},"internal")),H||(H=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:803.5,y:366.068})),C||(C=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:35,x:807.5,y:366.068},"Head")),T||(T=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:842.5,y:366.068})),O||(O=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:33,x:846.5,y:366.068},"state")),P||(P=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:707,y:382.557},"and")),M||(M=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:733,y:382.557})),A||(A=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:68,x:737,y:382.557},"processes")),D||(D=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:805,y:382.557})),j||(j=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:44,x:809,y:382.557},"events"))),di.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/API/Server.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/API/Server.hs",xlinkType:"simple"},di.createElement("rect",{fill:"#85BBF0",height:102.441,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:205,x:1009.5,y:293.068}),B||(B=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:76,x:1074,y:314.67},"\xabcomponent\xbb")),_||(_=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:27,x:1071,y:332.67},"API")),I||(I=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:5,x:1098,y:332.67})),R||(R=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:50,x:1103,y:332.67},"Server")),q||(q=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1110,y:349.58})),J||(J=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:48,x:1021,y:366.068},"Handle")),U||(U=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1069,y:366.068})),X||(X=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:37,x:1073,y:366.068},"client")),Z||(Z=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1110,y:366.068})),K||(K=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:75,x:1114,y:366.068},"commands")),$||($=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1189,y:366.068})),G||(G=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:10,x:1193,y:366.068},"&")),Q||(Q=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:51,x:1019.5,y:382.557},"queries")),V||(V=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1070.5,y:382.557})),Y||(Y=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:1074.5,y:382.557},"and")),tt||(tt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1100.5,y:382.557})),et||(et=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:43,x:1104.5,y:382.557},"serves")),nt||(nt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1147.5,y:382.557})),it||(it=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:53,x:1151.5,y:382.557},"outputs"))),di.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Chain.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Chain.hs",xlinkType:"simple"},di.createElement("rect",{fill:"#85BBF0",height:118.93,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:198,x:695,y:485.508}),at||(at=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:76,x:756,y:507.11},"\xabcomponent\xbb")),ot||(ot=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:47,x:770.5,y:525.11},"Chain")),rt||(rt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:792,y:542.02})),lt||(lt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:79,x:714,y:558.508},"Connection")),st||(st=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:793,y:558.508})),ft||(ft=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:797,y:558.508},"to")),xt||(xt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:811,y:558.508})),ht||(ht=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:59,x:815,y:558.508},"Cardano")),mt||(mt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:56,x:705,y:574.997},"Observe")),yt||(yt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:761,y:574.997})),ct||(ct=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:21,x:765,y:574.997},"txs")),dt||(dt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:786,y:574.997})),gt||(gt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:63,x:790,y:574.997},"on-chain")),pt||(pt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:853,y:574.997})),Ft||(Ft=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:857,y:574.997},"and")),St||(St=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:30,x:740.5,y:591.485},"post")),ut||(ut=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:770.5,y:591.485})),Et||(Et=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:774.5,y:591.485},"tx")),Lt||(Lt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:788.5,y:591.485})),kt||(kt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:792.5,y:591.485},"to")),zt||(zt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:806.5,y:591.485})),bt||(bt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:37,x:810.5,y:591.485},"chain"))),di.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Chain/Direct/Wallet.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Chain/Direct/Wallet.hs",xlinkType:"simple"},di.createElement("rect",{fill:"#85BBF0",height:102.441,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:194,x:357,y:493.748}),Wt||(Wt=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:76,x:416,y:515.35},"\xabcomponent\xbb")),wt||(wt=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:48,x:430,y:533.35},"Wallet")),vt||(vt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:452,y:550.26})),Nt||(Nt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:73,x:369.5,y:566.748},"Embedded")),Ht||(Ht=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:442.5,y:566.748})),Ct||(Ct=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:41,x:446.5,y:566.748},"Wallet")),Tt||(Tt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:487.5,y:566.748})),Ot||(Ot=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:491.5,y:566.748},"to")),Pt||(Pt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:505.5,y:566.748})),Mt||(Mt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:29,x:509.5,y:566.748},"sign")),At||(At=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:84,x:367,y:583.237},"transactions")),Dt||(Dt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:451,y:583.237})),jt||(jt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:455,y:583.237},"and")),Bt||(Bt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:481,y:583.237})),_t||(_t=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:24,x:485,y:583.237},"pay")),It||(It=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:509,y:583.237})),Rt||(Rt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:28,x:513,y:583.237},"fees"))),di.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Network.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Network.hs",xlinkType:"simple"},di.createElement("rect",{fill:"#85BBF0",height:102.441,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:186,x:357,y:293.068}),qt||(qt=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:76,x:412,y:314.67},"\xabcomponent\xbb")),Jt||(Jt=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:68,x:416,y:332.67},"Network")),Ut||(Ut=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:448,y:349.58})),Xt||(Xt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:61,x:367,y:366.068},"Manages")),Zt||(Zt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:428,y:366.068})),Kt||(Kt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:83,x:432,y:366.068},"connections")),$t||($t=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:515,y:366.068})),Gt||(Gt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:519,y:366.068},"to")),Qt||(Qt=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:38,x:431,y:382.557},"peers"))),di.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Logging.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Logging.hs",xlinkType:"simple"},di.createElement("rect",{fill:"#85BBF0",height:85.953,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:164,x:698,y:130.798}),Vt||(Vt=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:76,x:742,y:152.4},"\xabcomponent\xbb")),Yt||(Yt=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:68,x:746,y:170.4},"Logging")),te||(te=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:778,y:187.31})),ee||(ee=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:41,x:708,y:203.798},"Dump")),ne||(ne=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:749,y:203.798})),ie||(ie=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:33,x:753,y:203.798},"JSON")),ae||(ae=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:786,y:203.798})),oe||(oe=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:790,y:203.798},"to")),re||(re=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:804,y:203.798})),le||(le=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:44,x:808,y:203.798},"stdout"))),di.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Logging/Monitoring.hs",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/blob/master/hydra-node/src/Hydra/Logging/Monitoring.hs",xlinkType:"simple"},di.createElement("rect",{fill:"#85BBF0",height:85.953,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:217,x:897.5,y:130.798}),se||(se=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:76,x:968,y:152.4},"\xabcomponent\xbb")),fe||(fe=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:91,x:960.5,y:170.4},"Monitoring")),xe||(xe=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1004,y:187.31})),he||(he=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:57,x:907.5,y:203.798},"Exposes")),me||(me=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:964.5,y:203.798})),ye||(ye=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:82,x:968.5,y:203.798},"Prometheus")),ce||(ce=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1050.5,y:203.798})),de||(de=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:50,x:1054.5,y:203.798},"metrics"))),di.createElement("rect",{fill:"#23AA12",height:85.953,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:177,x:927.5,y:501.998}),ge||(ge=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:135,x:948.5,y:523.6},"\xabexternal\xbb\xabcomponent\xbb")),pe||(pe=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:68,x:951.5,y:541.6},"Cardano")),Fe||(Fe=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:5,x:1019.5,y:541.6})),Se||(Se=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:56,x:1024.5,y:541.6},"Ledger")),ue||(ue=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1014,y:558.51})),Ee||(Ee=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:66,x:937.5,y:574.998},"Maintains")),Le||(Le=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1003.5,y:574.998})),ke||(ke=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:36,x:1007.5,y:574.998},"Layer")),ze||(ze=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1043.5,y:574.998})),be||(be=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:9,x:1047.5,y:574.998},"2")),We||(We=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1056.5,y:574.998})),we||(we=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:34,x:1060.5,y:574.998},"State")),di.createElement("rect",{fill:"#438DD5",height:67.109,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:168,x:7,y:310.728}),ve||(ve=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:65,x:58.5,y:332.33},"\xabcontainer\xbb")),Ne||(Ne=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:48,x:17,y:350.33},"Hydra")),He||(He=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:5,x:65,y:350.33})),Ce||(Ce=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:42,x:70,y:350.33},"Node")),Te||(Te=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:5,x:112,y:350.33})),Oe||(Oe=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:48,x:117,y:350.33},"(peer)")),Pe||(Pe=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:33,x:29,y:365.306},"[Local")),Me||(Me=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:62,y:365.306})),Ae||(Ae=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:87,x:66,y:365.306},"cardano-node]")),di.createElement("rect",{fill:"#438DD5",height:67.109,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:139,x:492.5,y:725.408}),De||(De=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:65,x:529.5,y:747.01},"\xabcontainer\xbb")),je||(je=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:68,x:504.5,y:765.01},"Cardano")),Be||(Be=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:5,x:572.5,y:765.01})),_e||(_e=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:42,x:577.5,y:765.01},"Node")),Ie||(Ie=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:33,x:502.5,y:779.986},"[Local")),Re||(Re=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:535.5,y:779.986})),qe||(qe=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:82,x:539.5,y:779.986},"cadano-node]")),di.createElement("rect",{fill:"#438DD5",height:67.109,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:188,x:100,y:511.418}),Je||(Je=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:65,x:161.5,y:533.02},"\xabcontainer\xbb")),Ue||(Ue=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:68,x:110,y:551.02},"Cardano")),Xe||(Xe=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:5,x:178,y:551.02})),Ze||(Ze=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:42,x:183,y:551.02},"Node")),Ke||(Ke=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:5,x:225,y:551.02})),$e||($e=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:48,x:230,y:551.02},"(peer)")),Ge||(Ge=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:33,x:132,y:565.996},"[Local")),Qe||(Qe=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:165,y:565.996})),Ve||(Ve=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:87,x:169,y:565.996},"cardano-node]")),di.createElement("rect",{fill:"#438DD5",height:52.977,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:120,x:1355,y:317.798}),Ye||(Ye=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:65,x:1382.5,y:339.4},"\xabcontainer\xbb")),tn||(tn=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:48,x:1365,y:357.4},"Hydra")),en||(en=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:5,x:1413,y:357.4})),nn||(nn=di.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:47,x:1418,y:357.4},"Client")),di.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/input-output-hk/hydra/tree/master/hydra-plutus",xlinkShow:"new",xlinkTitle:"https://github.com/input-output-hk/hydra/tree/master/hydra-plutus",xlinkType:"simple"},di.createElement("rect",{fill:"#85BBF0",height:133.063,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:212,x:688,y:692.438}),an||(an=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:76,x:756,y:714.04},"\xabcomponent\xbb")),on||(on=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:48,x:702.5,y:732.04},"Hydra")),rn||(rn=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:5,x:750.5,y:732.04})),ln||(ln=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:47,x:755.5,y:732.04},"Smart")),sn||(sn=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:5,x:802.5,y:732.04})),fn||(fn=di.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:78,x:807.5,y:732.04},"Contracts")),xn||(xn=di.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:42,x:773,y:747.016},"[Plutus]")),hn||(hn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:792,y:763.083})),mn||(mn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:65,x:706.5,y:779.571},"On-chain")),yn||(yn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:771.5,y:779.571})),cn||(cn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:39,x:775.5,y:779.571},"smart")),dn||(dn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:814.5,y:779.571})),gn||(gn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:63,x:818.5,y:779.571},"contracts")),pn||(pn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:75,x:698,y:796.059},"controlling")),Fn||(Fn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:773,y:796.059})),Sn||(Sn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:22,x:777,y:796.059},"the")),un||(un=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:799,y:796.059})),En||(En=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:69,x:803,y:796.059},"behaviour")),Ln||(Ln=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:872,y:796.059})),kn||(kn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:876,y:796.059},"of")),zn||(zn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:22,x:718.5,y:812.548},"the")),bn||(bn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:740.5,y:812.548})),Wn||(Wn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:58,x:744.5,y:812.548},"protocol")),wn||(wn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:802.5,y:812.548})),vn||(vn=di.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:63,x:806.5,y:812.548},"on-chain"))),di.createElement("path",{d:"M552.13 344.288h108.92",fill:"none",style:{stroke:"#666",strokeWidth:1}}),di.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m544.24 344.288 8 3v-6l-8 3zM669.05 344.288l-8-3v6l8-3z"}),Nn||(Nn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:36,x:561.25,y:323.89},"Hydra")),Hn||(Hn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:597.25,y:323.89})),Cn||(Cn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:51,x:601.25,y:323.89},"Protocol")),Tn||(Tn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:61,x:576.25,y:338.023},"Messages")),di.createElement("path",{d:"M898.28 344.288h102.22",fill:"none",style:{stroke:"#666",strokeWidth:1}}),di.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m890.63 344.288 8 3v-6l-8 3zM1008.23 344.288l-8-3v6l8-3z"}),On||(On=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:70,x:908,y:323.89},"ClientInput")),Pn||(Pn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:978,y:323.89})),Mn||(Mn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:9,x:982,y:323.89},"&")),An||(An=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:82,x:908.5,y:338.023},"ServerOutput")),di.createElement("path",{d:"M784.19 404.758c1.59 22.6 3.42 48.49 5.06 71.77",fill:"none",style:{stroke:"#666",strokeWidth:1}}),di.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m783.57 396.938-2.42 8.194 5.984-.429-3.564-7.765zM789.87 484.308l2.436-8.19-5.986.418 3.55 7.772z"}),Dn||(Dn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:76,x:788,y:438.11},"Observation")),jn||(jn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:864,y:438.11})),Bn||(Bn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:9,x:868,y:438.11},"&")),_n||(_n=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:69,x:798,y:452.243},"OnChainTx")),di.createElement("path",{d:"M848.86 395.958c12.51 9.61 25.34 19.74 37.14 29.55 26.72 22.21 55.38 48.08 78.97 69.97",fill:"none",style:{stroke:"#666",strokeWidth:1}}),di.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m970.48 500.548-3.799-7.653-4.095 4.385 7.894 3.268z"}),In||(In=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:36,x:919,y:445.11},"Apply")),Rn||(Rn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:955,y:445.11})),qn||(qn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:15,x:959,y:445.11},"Tx")),di.createElement("path",{d:"M560.22 544.968h134.57",fill:"none",style:{stroke:"#666",strokeWidth:1}}),di.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m552.43 544.968 8 3v-6l-8 3z"}),Jn||(Jn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:27,x:569,y:538.57},"Sign")),Un||(Un=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:596,y:538.57})),Xn||(Xn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:77,x:600,y:538.57},"transactions")),di.createElement("path",{d:"M794 604.738v78.28",fill:"none",style:{stroke:"#666",strokeWidth:1}}),di.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m794 690.988 3-8h-6l3 8z"}),Zn||(Zn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:23,x:795,y:654.04},"Use")),di.createElement("path",{d:"M723.12 610.738c-38.81 35.46-85.6 78.22-118.74 108.5",fill:"none",style:{stroke:"#666",strokeWidth:1}}),di.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m728.68 605.738-7.93 3.179 4.045 4.43 3.885-7.609zM598.94 724.118l7.93-3.178-4.045-4.431-3.885 7.61z"}),Kn||(Kn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:734,y:637.438},".")),$n||($n=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:29,x:692,y:659.04},"[N2C")),Gn||(Gn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:721,y:659.04})),Qn||(Qn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:51,x:725,y:659.04},"protocol]")),di.createElement("path",{d:"M258.55 583.158c67.07 38.64 171.44 98.76 238.62 137.46",fill:"none",style:{stroke:"#666",strokeWidth:1}}),di.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m252.1 578.858 5.428 6.598 3-5.196-8.428-1.402zM503.77 724.998l-5.428-6.598-3 5.197 8.428 1.401z"}),Vn||(Vn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:432.5,y:637.438},".")),Yn||(Yn=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:30,x:390,y:659.04},"[N2N")),ti||(ti=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:420,y:659.04})),ei||(ei=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:51,x:424,y:659.04},"protocol]")),di.createElement("path",{d:"M111.96 385.718c17.75 34.23 43.07 83.08 60.88 117.43",fill:"none",style:{stroke:"#666",strokeWidth:1}}),di.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m108.01 379.098 1.016 8.484 5.328-2.76-6.344-5.724zM176.97 510.118l-1.023-8.482-5.326 2.764 6.349 5.718z"}),ni||(ni=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:189,y:428.508},".")),ii||(ii=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:29,x:147,y:450.11},"[N2C")),ai||(ai=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:176,y:450.11})),oi||(oi=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:51,x:180,y:450.11},"protocol]")),di.createElement("path",{d:"M183.91 344.288h163.82",fill:"none",style:{stroke:"#666",strokeWidth:1}}),di.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m176.17 344.288 8 3v-6l-8 3zM355.57 344.288l-8-3v6l8-3z"}),ri||(ri=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:266,y:316.288},".")),li||(li=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:39,x:193,y:337.89},"[Hydra")),si||(si=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:232,y:337.89})),fi||(fi=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:48,x:236,y:337.89},"Network")),xi||(xi=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:284,y:337.89})),hi||(hi=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:51,x:288,y:337.89},"protocol]")),di.createElement("path",{d:"M1223.38 344.288h122.14",fill:"none",style:{stroke:"#666",strokeWidth:1}}),di.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m1215.58 344.288 8 3v-6l-8 3zM1353.51 344.288l-8-3v6l8-3z"}),mi||(mi=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:1284.75,y:316.288},".")),yi||(yi=di.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:104,x:1232.75,y:337.89},"[JSON/Websocket]")))},Si={sidebar_position:4},ui="Hydra Node Architecture",Ei={unversionedId:"architecture/index",id:"architecture/index",title:"Hydra Node Architecture",description:"This document describes the architecture of the current implementation",source:"@site/core-concepts/architecture/index.md",sourceDirName:"architecture",slug:"/architecture/",permalink:"/head-protocol/unstable/core-concepts/architecture/",draft:!1,editUrl:"https://github.com/input-output-hk/hydra/tree/master/docs/core-concepts/architecture/index.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"defaultSidebar",previous:{title:"Layer 2 Solutions",permalink:"/head-protocol/unstable/core-concepts/layer-two"},next:{title:"Hydra Networking",permalink:"/head-protocol/unstable/core-concepts/architecture/networking"}},Li={},ki=[{value:"Network",id:"network",level:3},{value:"Chain Interaction",id:"chain-interaction",level:3},{value:"Chain",id:"chain",level:4},{value:"Wallet",id:"wallet",level:4},{value:"Head Logic",id:"head-logic",level:3},{value:"Hydra Smart Contracts",id:"hydra-smart-contracts",level:3},{value:"API",id:"api",level:3},{value:"Persistence",id:"persistence",level:3},{value:"Logging",id:"logging",level:3},{value:"Monitoring",id:"monitoring",level:3}],zi={toc:ki},bi="wrapper";function Wi(t){let{components:e,...n}=t;return(0,gi.kt)(bi,(0,ci.Z)({},zi,n,{components:e,mdxType:"MDXLayout"}),(0,gi.kt)("h1",{id:"hydra-node-architecture"},"Hydra Node Architecture"),(0,gi.kt)("p",null,"This document describes the architecture of the current implementation\nof a ",(0,gi.kt)("inlineCode",{parentName:"p"},"hydra-node"),". The following picture represents the main\ncomponents of a Hydra node using the ",(0,gi.kt)("a",{parentName:"p",href:"https://c4model.com/#ComponentDiagram"},"C4 Component\nDiagram")," notation."),(0,gi.kt)(Fi,{className:"architecture",mdxType:"ArchitectureSvg"}),(0,gi.kt)("admonition",{type:"info"},(0,gi.kt)("p",{parentName:"admonition"},"This diagram is manually produced using ",(0,gi.kt)("a",{parentName:"p",href:"https://plantuml.com"},"PlantUML")," graphing tool with ",(0,gi.kt)("a",{parentName:"p",href:"https://github.com/plantuml-stdlib/C4-PlantUML"},"C4 extensions"),"."),(0,gi.kt)("pre",{parentName:"admonition"},(0,gi.kt)("code",{parentName:"pre"},"$ plantuml -Tsvg architecture-c4.puml\n"))),(0,gi.kt)("h3",{id:"network"},"Network"),(0,gi.kt)("p",null,(0,gi.kt)("em",{parentName:"p"},"Network")," component is responsible for all of the communications related to the off-chain part of the Hydra protocol between hydra-nodes. The ",(0,gi.kt)("a",{parentName:"p",href:"./networking"},"current implementation")," is based on the ",(0,gi.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/typed-protocols"},"Typed Protocols")," library which is also at the heart of the Cardano node's networking. It's asynchronous by nature and is using a push based protocol with a uniform ",(0,gi.kt)("em",{parentName:"p"},"broadcast")," abstraction. "),(0,gi.kt)("p",null,"Messages are exchanged between nodes on different internal transitions and are authenticated using each peer ",(0,gi.kt)("em",{parentName:"p"},"Hydra Key"),": Each message sent is signed by the emitter and the signature is verified by the transmitter."),(0,gi.kt)("h3",{id:"chain-interaction"},"Chain Interaction"),(0,gi.kt)("h4",{id:"chain"},"Chain"),(0,gi.kt)("p",null,"The ",(0,gi.kt)("em",{parentName:"p"},"Chain")," component is responsible for interfacing the Hydra node with the Cardano (aka. Layer 1) chain. The current, so-called ",(0,gi.kt)("inlineCode",{parentName:"p"},"Direct"),", implementation uses the ",(0,gi.kt)("inlineCode",{parentName:"p"},"Node-to-Client")," protocol to both \"follow the chain\" and observe new blocks and transactions which can change the state of the head, and submit transactions in response to client's requests or as needed to advance the protocol's state. It connects to a locally spun cardano-node using the ",(0,gi.kt)("em",{parentName:"p"},"local socket_and contains the ","_","off-chain")," logic, based on cardano-api, that knows how to observe and build transactions relevant to the Hydra protocol. See ",(0,gi.kt)("a",{parentName:"p",href:"/adr/10"},"ADR-10")," for more details."),(0,gi.kt)("h4",{id:"wallet"},"Wallet"),(0,gi.kt)("p",null,"The Hydra node maintains an internal wallet using the Cardano signing key provided to the ",(0,gi.kt)("inlineCode",{parentName:"p"},"hydra-node"),". This is used to handle the payment of transaction fees and signing transactions."),(0,gi.kt)("h3",{id:"head-logic"},"Head Logic"),(0,gi.kt)("p",null,"This is the component which is the heart of the Hydra node, implementing the protocol's ",(0,gi.kt)("em",{parentName:"p"},"input-output state machine"),". It is structured around the concepts of ",(0,gi.kt)("inlineCode",{parentName:"p"},"Event"),"s and ",(0,gi.kt)("inlineCode",{parentName:"p"},"Effect"),"s:"),(0,gi.kt)("ul",null,(0,gi.kt)("li",{parentName:"ul"},(0,gi.kt)("inlineCode",{parentName:"li"},"Event"),"s are ",(0,gi.kt)("em",{parentName:"li"},"inputs")," to the state machine from various parts of the node that can change the state and they ..."),(0,gi.kt)("li",{parentName:"ul"},"... produce ",(0,gi.kt)("inlineCode",{parentName:"li"},"Effect"),"s which are ",(0,gi.kt)("em",{parentName:"li"},"outputs"),' from the state machine interpreted by other components to produce "side-effects".')),(0,gi.kt)("p",null,"The ",(0,gi.kt)("em",{parentName:"p"},"Head Logic")," of course maintains the internal state of the head and persists it when it changes. This state consists in both the content of the Head itself (eg. current Ledger, transactions pending) ",(0,gi.kt)("em",{parentName:"p"},"and")," the data from the Layer 1 that's needed to observe and trigger on-chain transitions."),(0,gi.kt)("h3",{id:"hydra-smart-contracts"},"Hydra Smart Contracts"),(0,gi.kt)("p",null,'This "component" represents all of the Hydra smart contracts needed for Head protocol operation. Currently the contracts are written using ',(0,gi.kt)("inlineCode",{parentName:"p"},"Plutus-Tx"),". The scripts are optimized using custom ",(0,gi.kt)("inlineCode",{parentName:"p"},"ScriptContext")," and error codes for now."),(0,gi.kt)("h3",{id:"api"},"API"),(0,gi.kt)("p",null,(0,gi.kt)("inlineCode",{parentName:"p"},"hydra-node")," exposes an ",(0,gi.kt)("a",{parentName:"p",href:"https://hydra.family/head-protocol/unstable/api-reference"},"Asynchronous API")," through a Websocket server. This API is available to ",(0,gi.kt)("em",{parentName:"p"},"Hydra Client")," to send commands and observe changes in the state of the Hydra head. Upon startup, the API server loads all historical messages from persistence layer and serves them to clients in case they are interested in observing them."),(0,gi.kt)("h3",{id:"persistence"},"Persistence"),(0,gi.kt)("p",null,"All API server outputs and the ",(0,gi.kt)("inlineCode",{parentName:"p"},"hydra-node")," state is preserved on disk. The persistence layer is responsible for loading the historical messages/hydra state from disk and also storing them. For the time being there was no need to make this layer more complex or use a database."),(0,gi.kt)("h3",{id:"logging"},"Logging"),(0,gi.kt)("p",null,"The Hydra node logs all side-effects occurring internally as JSON-formatted messages to the ",(0,gi.kt)("em",{parentName:"p"},"standard output")," stream attached to its process. The format of the logs is documented as a ",(0,gi.kt)("a",{parentName:"p",href:"https://raw.githubusercontent.com/input-output-hk/hydra/master/hydra-node/json-schemas/logs.yaml"},"JSON schema"),", and follows the principles outlined in ",(0,gi.kt)("a",{parentName:"p",href:"/adr/9"},"ADR-9"),"."),(0,gi.kt)("h3",{id:"monitoring"},"Monitoring"),(0,gi.kt)("p",null,"The Hydra node ",(0,gi.kt)("a",{parentName:"p",href:"https://hydra.family/head-protocol/docs/getting-started/quickstart#hydra-node-options"},"optionally")," exposes ",(0,gi.kt)("a",{parentName:"p",href:"https://prometheus.io/"},"Prometheus"),"-compliant ",(0,gi.kt)("em",{parentName:"p"},"metrics")," through an HTTP server, on the standard ",(0,gi.kt)("inlineCode",{parentName:"p"},"/metrics")," endpoint."))}Wi.isMDXComponent=!0}}]);